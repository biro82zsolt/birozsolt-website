name: Deploy website to Tarhely.eu via FTP

on:
  push:
    branches:
      - main  # Vagy a főágad neve

jobs:
  ftp-deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout latest code
      uses: actions/checkout@v3

    - name: Upload to Tarhely.eu via FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.4
      with:
        server: 185.51.188.49
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        server-dir: /public_html/
        local-dir: ./   # A projekt gyökere
        protocol: ftps
        exclude: |
          **/.git*
          **/.github*
          **/.venv*
          **/venv*
          **/__pycache__*
          **/shelf/*
          **/workspace.xml
          **/*.db
          **/*.sqlite3
          **/*.pyc
          **/*.pyo
          **/*.pyd
          **/*.png
